<app-menu-bar></app-menu-bar>


<div style="color: whitesmoke">
       
    <div class="ui-g"  style="text-align: center; background-color: gray">
      <div class="ui-g-12 banner stroke" >
          <div style="margin-top: 5%">

                    <h2 style="color: azure;background-color: black">Viajes</h2>   
                    <p-table [value]="viajesP" [responsive]="true" >
                        <ng-template pTemplate="header">
                            <tr >
                                <th>Fecha</th> 
                                <th>Viaje</th>                               
                                <th>Estado</th>
                                <th>Costo</th>  
                                <th>Accion</th>                             
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-viaje>
                            <tr>
                                <td>{{viaje.fecha | date:'medium'}}</td> 
                                <td>{{viaje.cod_Viaje}}</td>                                    
                                <td>{{viaje.estado | est}}</td>  
                                <td>{{viaje.cobro | currency:'ARS'}}</td>  
                                <td>
                                  <button pButton type="button" label="Ver Ruta" (click)="VerViaje(viaje.cod_Viaje)" class="ui-button-primary"></button>      
                                  <button pButton [disabled]="viaje.estado != 2" type="button" label="Aceptar" (click)="Aceptar(viaje.cod_Viaje)" class="ui-button-success"></button>                                     
                                  <button pButton [disabled]="viaje.estado != 3" type="button" label="Completar" (click)="Completar(viaje.cod_Viaje)" class="ui-button-info"></button> 
                                 
                                </td>                      
                            </tr>
                        </ng-template>
                    </p-table>
                     
         
        </div>
      </div> 
      <div class="ui-g-12" style="background: darkblue"></div>         
      <div   style="margin-top: 5%;margin-bottom: 5%;">           
        <div class="ui-g ui-fluid">
          <div class="ui-g-6 ui-sm-12" style="font-size: 145%; background-color: gray">
           
                                        
            
          
                  
          </div>       
         
         </div>
      </div>
  </div>
  
</div>

<p-dialog [(visible)]="info" [width]="300">
    {{msg}}
</p-dialog>
<p-confirmDialog header="Completar el viaje" icon="pi pi-exclamation-triangle" width="425" #cd>
    <p-footer>
        <button type="button" pButton icon="pi pi-times" label="No" (click)="cd.reject()"></button>
        <button type="button" pButton icon="pi pi-check" label="Si" (click)="cd.accept()"></button>
    </p-footer>
</p-confirmDialog>

<p-dialog  [(visible)]="verDir" [width]="400">
        <agm-map [latitude]="latitudeUno" [zoom]="14" [longitude]="longitudeUno" >
            <agm-marker 
            [latitude]="latitudeUno" 
            [longitude]="longitudeUno">
            </agm-marker>
            <agm-marker 
            [latitude]="latitudeDos" 
            [longitude]="longitudeDos">
            </agm-marker>
            <agm-direction *ngIf="dir" [origin]="dir.origin" [panel]="directionpanel" [waypoints]="waypoints"  [destination]="dir.destination"></agm-direction>
          </agm-map>
    </p-dialog>